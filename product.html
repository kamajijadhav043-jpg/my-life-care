<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Product — My Life Care</title><link rel="stylesheet" href="site.css"></head>
<body>
  <header class="header"><div class="wrap container"><div class="brand">My Life Care</div></div></header>

  <main class="container product-detail" id="main">
    <div class="img"><img id="pimg" src="product1.jpg" alt="" style="width:100%;border-radius:14px"></div>
    <div class="info">
      <h1 id="pname">Product name</h1>
      <p id="pdesc" style="color:var(--muted)"></p>
      <strong id="pprice" style="font-size:20px;color:var(--accent)"></strong>
      <div style="margin-top:18px">
        <button class="add-btn" onclick="addToCart(currentId)">Add to cart</button>
      </div>
    </div>
  </main>

  <footer class="site-footer container">© 2025 My Life Care</footer>

<script>
let currentId = null;
function qs(k){const u=new URL(location.href); return u.searchParams.get(k)}
const id = qs('id') || '1';
fetch('/products').then(r=>r.json()).catch(()=>fetch('products.json').then(r=>r.json())).then(list=>{
  const p = (list||[]).find(x=>String(x.id)===String(id)) || list[0];
  if(!p) return;
  currentId = p.id;
  document.getElementById('pimg').src = p.image || 'product1.jpg';
  document.getElementById('pname').textContent = p.name;
  document.getElementById('pdesc').textContent = p.description || '';
  document.getElementById('pprice').textContent = '₹' + p.price;
});

function addToCart(id){ let cart=JSON.parse(localStorage.getItem('mlcCart')||'[]'); let it=cart.find(i=>i.id===id); if(it) it.qty++; else cart.push({id,qty:1}); localStorage.setItem('mlcCart',JSON.stringify(cart)); alert('Added to cart') }
</script>
</body></html>