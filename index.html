<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>My Life Care ‚Äî Luxury Wellness</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="style.css">

  <meta name="description" content="LyfeCare ‚Äî premium wellness, herbal & skincare products.">
  <meta property="og:title" content="LyfeCare Store">
  <meta property="og:description" content="Premium wellness products curated for your health.">
  <meta property="og:url" content="https://lyfecare.store">
</head>
<body class="dark">

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="nav-left">
      <div class="logo">LyfeCare</div>
    </div>

    <div class="nav-right">
      <nav class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="cart.html">Cart</a>
        <a href="login.html">Login</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="https://instagram.com/jadhav_am0l" target="_blank" class="insta">Instagram</a>
      </nav>

      <button class="hamb" id="hambBtn" aria-label="menu">‚ò∞</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-copy">
        <h1><span class="accent">LyfeCare</span> ‚Äî Premium Supplements & Wellness</h1>
        <p class="lead">Curated herbal blends, vitamins, and skincare ‚Äî crafted for modern living.</p>

        <div class="hero-cta">
          <a href="#productList" class="btn primary">Shop Now</a>
          <a href="register.html" class="btn outline">Create Account</a>
        </div>
      </div>

      <div class="hero-art">
        <!-- subtle glowing graphic -->
        <div class="orb"></div>
      </div>
    </div>

    <!-- STATS -->
    <div class="stats-strip">
      <div class="stat">‚ú® <strong>1000+</strong> Premium Products</div>
      <div class="stat">üèÜ <strong>10,000+</strong> Happy Customers</div>
      <div class="stat">üîí <strong>100%</strong> Secure Checkout</div>
    </div>
  </section>

  <!-- SEARCH + CATEGORIES -->
  <main>
    <div class="search-wrap">
      <input id="searchInput" class="search-bar" placeholder="Search for products, vitamins, herbal packs..." onkeyup="searchProducts()">
    </div>

    <div class="category-tabs" id="categoryTabs">
      <button class="cat-pill active" onclick="filterCategory('all')">All</button>
      <button class="cat-pill" onclick="filterCategory('Herbal')">Herbal</button>
      <button class="cat-pill" onclick="filterCategory('Vitamins')">Vitamins</button>
      <button class="cat-pill" onclick="filterCategory('Skin Care')">Skin Care</button>
      <button class="cat-pill" onclick="filterCategory('Nutrition')">Nutrition</button>
      <button class="cat-pill" onclick="filterCategory('Combo')">Combos</button>
    </div>

    <!-- PRODUCTS -->
    <section id="productList" class="product-grid" aria-live="polite">
      <!-- JS will inject cards here -->
    </section>
  </main>

  <!-- Floating cart -->
  <a href="cart.html" class="floating-cart" id="floatingCart">üõí Cart <span id="cartCount">0</span></a>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="brand">
        <h3>LyfeCare</h3>
        <p>Luxury wellness products delivered with trust.</p>
      </div>
      <div class="links">
        <a href="index.html">Home</a>
        <a href="cart.html">Cart</a>
        <a href="login.html">Login</a>
        <a href="dashboard.html">Dashboard</a>
      </div>
      <div class="social">
        <span>Follow</span>
        <a href="https://instagram.com/jadhav_am0l" target="_blank" class="social-icon">Instagram</a>
      </div>
    </div>
    <div class="copyright">¬© 2025 LyfeCare ‚Ä¢ All rights reserved</div>
  </footer>

<script>
/* ---------- Data & UI ---------- */
/* allProducts will be fetched from server endpoint /products (your products.json) */
let allProducts = [];
let currentProducts = [];

async function loadProducts() {
  try {
    const res = await fetch('/products');
    const data = await res.json();
    allProducts = data;
    currentProducts = allProducts;
    showProducts(allProducts);
    updateCartCount();
  } catch (e) {
    console.error('Failed to load products', e);
    document.getElementById('productList').innerHTML = '<p style="color:#aaa;text-align:center;padding:40px">Products unavailable</p>';
  }
}

function showProducts(products) {
  const list = document.getElementById('productList');
  if (!products || products.length === 0) {
    list.innerHTML = '<p style="color:#ccc;text-align:center;padding:40px">No products found.</p>';
    return;
  }

  list.innerHTML = products.map(p => `
    <article class="product-card">
      <div class="media">
        <img src="${p.image}" alt="${escapeHtml(p.name)}" class="product-img">
      </div>
      <div class="body">
        <h3>${escapeHtml(p.name)}</h3>
        <p class="desc">${escapeHtml(p.description || '')}</p>
        <div class="meta">
          <strong>‚Çπ${Number(p.price).toFixed(2)}</strong>
          <div class="card-buttons">
            <button class="btn-add" onclick="addToCart(${p.id})">Add to Cart</button>
            <button class="btn-view" onclick="viewProduct(${p.id})">View</button>
          </div>
        </div>
      </div>
    </article>
  `).join('');
}

/* simple HTML escape */
function escapeHtml(s) {
  if (!s) return '';
  return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'","&#039;");
}

/* SEARCH */
function searchProducts() {
  const q = document.getElementById('searchInput').value.trim().toLowerCase();
  if (!q) {
    showProducts(currentProducts);
    return;
  }
  const filtered = currentProducts.filter(p => (p.name + ' ' + (p.description||'')).toLowerCase().includes(q));
  showProducts(filtered);
}

/* CATEGORY FILTER */
function filterCategory(cat) {
  document.querySelectorAll('.cat-pill').forEach(b => b.classList.remove('active'));
  // mark active pill
  document.querySelectorAll('.cat-pill').forEach(btn => {
    if (btn.innerText.toLowerCase() === cat.toLowerCase() || (cat === 'all' && btn.innerText.toLowerCase() === 'all')) btn.classList.add('active');
  });
  if (cat === 'all') {
    currentProducts = allProducts;
  } else {
    currentProducts = allProducts.filter(p => p.category === cat);
  }
  document.getElementById('searchInput').value = '';
  showProducts(currentProducts);
}

/* CART (localStorage) */
function getCart() {
  return JSON.parse(localStorage.getItem('mlcCart') || '[]');
}
function setCart(cart) {
  localStorage.setItem('mlcCart', JSON.stringify(cart));
  updateCartCount();
}

function addToCart(id) {
  const cart = getCart();
  const item = cart.find(i => i.id === id);
  if (item) item.qty += 1;
  else cart.push({id, qty: 1});
  setCart(cart);
  // small visual feedback
  const btn = event?.target;
  if (btn) {
    btn.innerText = 'Added ‚úì';
    setTimeout(()=> btn.innerText = 'Add to Cart', 900);
  }
}

function updateCartCount() {
  const cart = getCart();
  const count = cart.reduce((s,i)=>s+i.qty,0);
  document.getElementById('cartCount').innerText = count;
}

/* product quick view / details */
function viewProduct(id) {
  // simple redirect to product page where you can read id query
  location.href = `product.html?id=${id}`;
}

/* floating menu hamburger (mobile) */
document.getElementById('hambBtn').addEventListener('click', () => {
  const nav = document.getElementById('navLinks');
  nav.classList.toggle('open');
});

/* init */
loadProducts();
</script>

</body>
</html>
