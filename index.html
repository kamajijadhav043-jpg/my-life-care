<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Life Care | Home</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- MOBILE MENU BUTTON (shown on mobile) -->
<div class="mobile-menu-btn" onclick="toggleMenu()">‚ò∞</div>

<!-- NAVBAR -->
<div class="navbar">
  <div class="logo">My Life Care</div>
  <div class="nav-links" id="mobileMenu">
    <a href="index.html">Home</a>
    <a href="cart.html">Cart</a>
    <a href="login.html">Login</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="https://instagram.com/jadhav_am0l" target="_blank"></a>
      instagram 
      
  </div>
</div>

<!-- HERO SECTION -->
<div class="hero">
  <h1>Your Wellness Journey Begins Here üåø</h1>
  <p>Quality wellness products for a healthier and happier lifestyle.</p>
  <button onclick="document.getElementById('productList').scrollIntoView({behavior:'smooth'})">
    Shop Now
  </button>
</div>

<!-- PRODUCTS SECTION -->
<h2 style="text-align:center; margin-top:40px;">Our Products</h2>

<!-- SEARCH BAR -->
<div style="text-align:center; margin:20px;">
  <input 
    type="text" 
    id="searchInput" 
    placeholder="Search products..." 
    style="padding:10px; width:60%; font-size:16px; border-radius:8px; border:1px solid #ccc;"
    onkeyup="searchProducts()"
  >
</div>

<div id="productList"></div>

<!-- FOOTER -->
<!-- FOOTER -->
<div class="footer">
  ¬© 2025 My Life Care ‚Äî Designed with ‚ù§Ô∏è for Wellness
  <br>
  Follow us on 
  <a href="https://instagram.com/jadhav_am0l" target="_blank">
    Instagram
  </a>
</div>

<script>
let allProducts = [];

fetch("/products")
  .then(res => res.json())
  .then(data => {
      allProducts = data;
      showProducts(data);
  });

function showProducts(products) {
    const list = document.getElementById("productList");
    list.innerHTML = products.map(p => `
       <div class="product-card">
           <img src="${p.image}" class="product-img">
           <h3>${p.name}</h3>
           <p>${p.description}</p>
           <strong>‚Çπ${p.price}</strong>
           <button onclick="addToCart(${p.id})">Add to Cart</button>
           <button onclick="location.href='product.html?id=${p.id}'">View Details</button>
       </div>
    `).join("");
}

function addToCart(id) {
    let cart = JSON.parse(localStorage.getItem("mlcCart")) || [];
    let item = cart.find(i => i.id === id);

    if (item) item.qty++;
    else cart.push({ id: id, qty: 1 });

    localStorage.setItem("mlcCart", JSON.stringify(cart));
    alert("Added to cart!");
}
function searchProducts() {
    const keyword = document.getElementById("searchInput").value.toLowerCase();

    const filtered = allProducts.filter(p =>
        p.name.toLowerCase().includes(keyword) ||
        p.description.toLowerCase().includes(keyword) ||
        (p.category && p.category.toLowerCase().includes(keyword))
    );

    showProducts(filtered);
}

// üîΩ MOBILE MENU TOGGLER
function toggleMenu() {
  const menu = document.getElementById("mobileMenu");
  menu.style.display = (menu.style.display === "block") ? "none" : "block";
}
</script>

</body>
</html>
